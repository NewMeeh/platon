<nz-skeleton [nzActive]="loading" [nzLoading]="loading">
  <form [formGroup]="form">
    <h4 id="openDates">Souhaitez-vous limiter l'accès de cette activité à une date en particulier?</h4>
    <nz-range-picker
      [nzShowTime]="true"
      [nzDisabledDate]="disabledDate"
      aria-labelledby="openDates"
      formControlName="openDates"
      formControlName="openDates" />
    <h4 id="members">Souhaitez-vous limiter l'accès de cette activité à des utilisateurs en particulier?</h4>
    <p>Laissez la sélection vide pour permettre l'accès à tous, y compris aux nouveaux membres.</p>
    <course-member-table
      [members]="courseMembers"
      [selectable]="true"
      aria-labelledby="members"
      formControlName="members" />
    <nz-spin *ngIf="updating" nzTip="Modification de l'activité..."></nz-spin>
    <button
      nz-button
      [disabled]="!form.valid"
      nzType="primary"
      (click)="update()">
      Modifier
    </button>
  </form>
</nz-skeleton>
