<ng-container *ngIf="tree && versions">
  <app-resource-browse-header
    [editable]="context.resource!.permissions.write"
    [version]="context.version"
    [versions]="versions!"
    [resource]="context.resource!"
    (edit)="iframe.open(context.editorUrl!)"
    (preview)="iframe.open(context.previewUrl!)"
    (refresh)="switchVersion($event)"
  />
  <resource-files [tree]="tree!" (selected)="iframe.open(context.editorUrl + '&files=' + $event.path)" />
  <ui-modal-iframe #iframe (closed)="refreshFiles()" />
</ng-container>
